<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript Play</title>
</head>
<body>

  <script>
  
  // function  to apply pig latin if first letter is a consonant
  function conrpl(str2){
    var first = str2.charAt(0);
    //takes the first character out of the word and replaces it with a blank
    str2 = str2.replace(str2.charAt(0),'');
    str2 = str2+first+'ay';
    return str2;
  }

  function charrmv(str2){
    str2 = str2.substring(0, arr[i].length - 1);
    return str2;
  }

  function pigLatin(str){
    // str = str.toLowerCase();
    arr = str.split(' ');
    vowels = ['a','e','i','o','u','A','E','I','O','U'];
    // vowels = /[a|e|i|o|u]/gi
    console.log(arr);


  
    for (i in arr) {
      var last = arr[i].slice(-1);
      var vcheck = vowels.indexOf(arr[i].charAt(0));
      // checks if last character in the string is not a letter (ie ',' or '.')
      
      if (last != last.match(/[a-z]/gi)) {
        if (vcheck > -1) {
          arr[i] = charrmv(arr[i]);
          arr[i] = arr[i]+'way'+last;
        } else {
          arr[i] = charrmv(arr[i]);
          arr[i] = conrpl(arr[i])+last;
        }
      } else {
        if (vcheck > -1) {
          arr[i] = arr[i]+'way';
        } else {
          arr[i] = conrpl(arr[i]);
        }
      }
      
      var capCheck = arr[i].toLowerCase();
      if (arr[i] != capCheck) {
        arr[i] = arr[i].toLowerCase();
        arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);
        // console.log(arr[i]);
        // console.log(capCheck)
      }
    }
    arr = arr.join(' ');
    console.log(arr);

  };

  </script>
</body>
</html>