<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript Play</title>
</head>
<body>

  <script>
    
  countLetters = function(str){
    str = str.toUpperCase().replace(/[^A-Z-]/g, ''); //strips the string of non-letter characters
    chars = {};
    unq = ''; //Holds only the unique letters in the string
    var obj = {};

    console.log(str);
    
    //This takes the modified string and pulls in all characters once (string of unique characters)
    for (i in str) {
      if ((str[i] in chars)) {
        chars[str[i]] += 1; //don't understand this line
        unq += str[i];
      }
    }
    console.log(chars);

    console.log(unq);
    //This uses the unique characters string to count the occurrence of each character in the modified string
    for (i in unq){
      var count = 0; 
      for (j in str){
        if (unq.charAt(i)==str.charAt(j)){
           count++;
           obj[unq.charAt(i)] = count;
        }
      }
    }
    console.log(obj);
  };

  // function countLetters(str){
  //   var letterCount = {};
  //   var letters = str.toLowerCase().match(/[a-z]/gi).join('');
  //   console.log(letters);
  //   for (var i=0; i<letters.length; i++){
  //     var currentLetter = letters[i];
  //     var count = 0;
  //     if (letters.indexOf(currentLetter)==letters.lastIndexOf(currentLetter)){
  //       letterCount[currentLetter] = count+=1;
  //     }
  //     else {
  //       var re = new RegExp(currentLetter,'g');
  //       var multiples=letters.match(re);
  //       letterCount[currentLetter] = multiples.length;
  //     }
  //   }
  //   console.log(letterCount);
  // }

  </script>
</body>
</html>