<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript Play</title>
</head>
<body>

  <script>
    
  countVowels = function(str){
    var str = str.toLowerCase();
    var count = 0;
    vowels = ['a','e','i','o','u'];
    end = [',','.',' '];
    for (i in str) {
      if (vowels.indexOf(str.charAt(i)) > -1 ) {
        count++;
      };
      // To check for y as the last letter of a word, break into array " " then iterate over the last letter (character) and check if it is a y or not. Then adjust if the last character is not a letter at all ex '.' or ','
    }

    arr = str.split(' ');
    for (i in arr){
      var lastchar = arr[i].charAt(arr[i].length - 1);
      if (lastchar === 'y'){
        count++;
      } else if (!lastchar.match(/[a-z]/ig)){
        var j = 2;
        while (!lastchar.match(/[a-z]/ig)) {
          lastchar = arr[i].charAt(arr[i].length - j);
          j++;
        }
        if (lastchar === 'y'){
          count++;
        }
      }
    }
    console.log(count);
  };
  
  </script>
</body>
</html>